{% extends "base.html" %}
{% block content %}
<div class="profile-hero">
    <div class="row">
        <div class="col s12 m6 offset-m3">
            <div class="card-panel center-align">
                <h4 class="brown-text curly">
                    Welcome, {{ username }}</h4>
            </div>
            <!-- Try to add all reviews and favourite reviews here   -->
        </div>
    </div>
    <div class="row">
        <div class="col s12 m8 offset-m2">
            <div class="card-panel">
                <h4 class="review-header center-align brown-text">My Reviews</h4>


                <table>
                    <thead>
                        <tr>
                            <th>Book Name</th>
                            <th>Author</th>
                            <th>Review Title</th>
                            <th>Rating</th>
                        </tr>
                    </thead>
                    {% for review in my_reviews %}
                    <tbody>
                        <tr>
                            <td><a href="{{ url_for('see_review', reviews=review._id) }}">{{ review.book_name }}</a></td>
                            <td>{{ review.author_name }}</td>
                            <td>{{ review.review_title }}</td>
                            <td>{{ review.rating_no }}</td>
                        </tr>
                    </tbody>
                    {% endfor %}
                </table>

            </div>
        </div>
    </div>
    <div class="row">
        <div class="col s12 m8 offset-m2">
            <div class="card-panel">
                <h4 class="review-header center-align brown-text">My Favourites</h4>

                <ul>
                    {% for fav in username.favourites %}
                    <li>
                        <div class="brown-text text-darken-3">
                            Book Name: {{ fav.book_name }}
                            Book Author: {{ fav.author_name }}
                            Genre: {{ fav.genre_name }}
                        </div>
                        <p><i class="fa-solid fa-star tooltipped small pink-text" data-position="bottom"
                                data-tooltip="Remove book from favourites"></i>
                            <i class="fa-regular fa-star tooltipped small pink-text" data-position="bottom"
                                data-tooltip="Add book to favourites"></i>
                        </p>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}